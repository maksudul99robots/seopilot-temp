(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[363],{9855:function(e,t,r){Promise.resolve().then(r.bind(r,5446))},5446:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return E}});var n=r(9268),o=r(6006),i=r(1771),s=r(4066),a=r(7095),l=r(4240),c=r(8417),d=r(2171),h=r(5448),u=r(873),p=r(6628),f=r(6008),x=r(171),g=r(4737);function w(e){this.message=e}w.prototype=Error(),w.prototype.name="InvalidCharacterError";var m="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new w("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,n,o=0,i=0,s="";n=t.charAt(i++);~n&&(r=o%4?64*r+n:n,o++%4)&&(s+=String.fromCharCode(255&r>>(-2*o&6))))n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return s};function b(e){this.message=e}b.prototype=Error(),b.prototype.name="InvalidTokenError";var v=function(e,t){if("string"!=typeof e)throw new b("Invalid token specified");var r=!0===(t=t||{}).header?0:1;try{return JSON.parse(function(e){var t,r=e.replace(/-/g,"+").replace(/_/g,"/");switch(r.length%4){case 0:break;case 2:r+="==";break;case 3:r+="=";break;default:throw"Illegal base64url string!"}try{return t=r,decodeURIComponent(m(t).replace(/(.)/g,function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}catch(e){return m(r)}}(e.split(".")[r]))}catch(e){throw new b("Invalid token specified: "+e.message)}},y=r(4745),j=r.n(y),C=r(1042),Z=r(3043);let k=e=>{let t=(0,f.useSearchParams)(),[r,w]=(0,o.useState)(""),[m,b]=(0,o.useState)(t.get("token")),[y,k]=(0,o.useState)(""),[E,S]=(0,o.useState)(""),[P,I]=(0,o.useState)(!1),[T,W]=(0,o.useState)(!1),A=(0,p.I0)(),F=(0,f.useRouter)();(0,o.useEffect)(()=>{if(m)try{let e=v(m);w(e.email)}catch(e){j().fire({title:"Error!",text:"Invalid Token",icon:"error",confirmButtonText:"Close"}).then(e=>{F.push("/")})}},[m]);let _=()=>{r&&r.length>1&&(0,C.J)(r)&&(y.length>6?y==E?(I(!0),W(!0),x.o.resetPassword({password:y,email:r}).then(e=>{202==e.status?j().fire({title:"success!",text:"Password changed successfully",icon:"success",confirmButtonText:"Ok"}).then(e=>{F.push("/authentication/login")}):A((0,g.br)({title:"Error",icon:"error",text:"Error occured"})),I(!1),W(!1)}).catch(e=>{A((0,g.br)({title:"Error",icon:"error",text:"Error occured"})),I(!1),W(!1)})):A((0,g.br)({title:"Error",icon:"error",text:"Password should match."})):A((0,g.br)({title:"Error",icon:"error",text:"Password should be longer than 6."})))};return(0,n.jsx)(u.Z,{title:"Login",description:"this is Login page",children:(0,n.jsxs)(i.Z,{sx:{position:"relative","&:before":{content:'""',background:"#FCFCFC",backgroundSize:"400% 400%",animation:"gradient 15s ease infinite",position:"absolute",height:"100%",width:"100%",opacity:"0.3"}},children:[(0,n.jsx)(i.Z,{display:"flex",alignItems:"center",justifyContent:"center",sx:{paddingTop:"8vh"},children:(0,n.jsx)(Z.Z,{})}),(0,n.jsx)(s.ZP,{container:!0,spacing:0,justifyContent:"center",sx:{height:"50vh"},children:(0,n.jsx)(s.ZP,{item:!0,xs:12,sm:12,lg:4,xl:3,display:"flex",justifyContent:"center",alignItems:"center",children:(0,n.jsx)(a.Z,{elevation:9,sx:{p:4,zIndex:1,width:"100%",maxWidth:"500px"},children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.Z,{variant:"h3",textAlign:"center",color:"textSecondary",mb:2,sx:{color:"#5A5A5A",fontWeight:"bold"},children:"Reset Password"}),(0,n.jsxs)(c.Z,{children:[(0,n.jsxs)(i.Z,{mt:"25px",children:[(0,n.jsx)(i.Z,{display:"flex",justifyContent:"space-between",children:(0,n.jsx)(l.Z,{variant:"subtitle1",fontWeight:600,component:"label",htmlFor:"password",mb:"5px",children:"Password"})}),(0,n.jsx)(d.Z,{type:"password",variant:"outlined",fullWidth:!0,onChange:e=>{k(e.target.value)}})]}),(0,n.jsxs)(i.Z,{mt:"25px",children:[(0,n.jsx)(i.Z,{display:"flex",justifyContent:"space-between",children:(0,n.jsx)(l.Z,{variant:"subtitle1",fontWeight:600,component:"label",htmlFor:"password",mb:"5px",children:"Confirm Password"})}),(0,n.jsx)(d.Z,{type:"password",variant:"outlined",fullWidth:!0,onChange:e=>{S(e.target.value)}})]})]}),(0,n.jsx)(i.Z,{children:(0,n.jsx)(h.Z,{color:"primary",variant:"contained",size:"large",fullWidth:!0,type:"submit",style:{color:P?"#595959":"white",marginTop:"30px"},onClick:()=>_(),disabled:P,loading:T,loadingPosition:"end",children:"Save Password"})})]})})})})]})})};var E=k}},function(e){e.O(0,[295,756,311,315,375,628,675,334,518,214,745,216,667,139,744],function(){return e(e.s=9855)}),_N_E=e.O()}]);